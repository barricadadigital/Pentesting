# Escaneo de Puertos

Una vez ya hemos identificado las distintas máquinas que componen la red en la que estamos es el momento de determinar que puertos tienen abiertos dichas máquinas.

La importancia de los puertos en el pentesting es crucial, ya que los distintos puertos tienen un servicio asociado, y dicho servicio puede ser la vía de entrada para los "malos" por lo que esta fase es de las más importantes.

Para realizar este escaneo de puertos al igual que hablábamos sobre las IPs podemos utilizar herramientas propias o de terceros. En nuestros ejemplos vamos a escanear la IP "10.10.16.55"

#### Nmap

```
nmap -p- --open -T5 10.10.16.55
nmap -p- --open -min-rate 5000 10.10.16.55
```

Hay muchos modos de escanear puertos con Nmap, estas dos opciones superiores son escaneos tremendamente rápidos, pero no son los ideales si queremos ser silenciosos. Si quieres saber más información de cómo utilizar correctamente nmap ve a la siguiente página [Nmap](../../herramientas/escaneo/nmap.md)

#### Bash

```
#!/bin/bash

trap ctrl_c INT

function ctrl_c(){
	echo -e "\n\n[*] CANCELANDO... [*]\n"
	exit 0
}

	for port in $(seq 0 65535); do
        	timeout 1 bash -c "echo '' < /dev/tcp/$1/$port" 2>/dev/null && echo -e "El puerto $port está abierto" &
	done; wait
```

Utilizamos el rango de 65535 porque es el número máximo de puertos que existen, pero podríamos realizar escaneos con una menor cantidad de puertos sin ningún problema.

#### Powershell

En un futuro añadiremos un script a través de powershell para realizar dicho escaneo de puertos.

#### FastTCPScan de S4vitar

Se pueden hacer distintos scan en muchos lenguajes de programación, aquí os dejo como ejemplo el Fast Scan de S4vitar realizado en go y que es tremendamente rápido.

{% embed url="https://s4vitar.github.io/fasttcpscan-go/#" %}



> \*Disclaimer: Este manual está realizado en base a lo que voy aprendiendo, si parte de la información que comparto no es correcta estaré encantado de que te pongas en contacto conmigo para hacérmelo saber y poder modificarlo.
