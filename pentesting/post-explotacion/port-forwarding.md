---
description: >-
  Es la técnica por la que vamos a poder acceder a recursos fuera de la primera
  red en la que estamos
---

# Port Forwarding / Pivoting

Las técnicas de pivoting son importantes ya que en ocasiones podemos entrar en redes que tienen algún tipo de segmentación. Por esa razón desde la primera red no vamos a poder acceder a las demás pero existen diversos métodos para poder realizar ese pivoting.

### Tabla de enrutamiento

Los protocolos de enrutamiento son usado para determinar el mejor camino para alcanzar una red. Hay que tener en cuenta que no solo el router guarda esta tabla sino que cada host también lo hace.

```
route            

Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
default         192.168.1.2     0.0.0.0         UG    0      0        0 eth0
10.175.34.0     *               255.255.255.0   U     0      0        0 tap0
172.16.88.0     10.175.34.1     255.255.255.0   UG    0      0        0 tap0
192.168.1.0     *               255.255.255.0   U     0      0        0 eth0
192.168.241.0   10.175.34.1     255.255.255.0   UG    0      0        0 tap0
```

En este caso concreto tenemos eth0 que es la conexión por cable y tap0 que es de una VPN.

Nosotros podríamos añadir nuevos valores a esta tabla, ¿Cuándo hacerlo? Cuando hayamos obtenido información de otra posible red que queramos alcanzar. Pongamos como ejemplo que sabemos que a través de 192.168.222.0/24 podemos acceder a un servidor situado en 192.168.222.199

```
ip route add 192.168.222.0/24 via 10.175.34.1
```

Estamos añadiendo una ruta desde nuestra gateway hasta esa red.

> \*Disclaimer: Este manual está realizado en base a lo que voy aprendiendo, si parte de la información que comparto no es correcta estaré encantado de que te pongas en contacto conmigo para hacérmelo saber y poder modificarlo.
